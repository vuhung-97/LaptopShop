@model LaptopShop.ViewModels.PriceFilterViewModel
@{
    string? loai = Context.Request.Query["IdLoai"].ToString();
    string? thuonghieu = Context.Request.Query["IdThuongHieu"].ToString();
    int? selectedRange = ViewBag.CheckedPrice;
}

<h5 class="section-title position-relative text-uppercase mb-3">
    <span class="bg-secondary pr-3">Theo giá:</span>
</h5>
<div class="bg-light p-4 mb-30">
    <form>
        <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
            <input type="checkbox" class="custom-control-input" id="price-all"
            @(selectedRange == null ? "checked" : "") />
            <label for="price-all" class="custom-control-label">
                <a asp-controller="Shop"
                   asp-action="Index"
                   asp-route-idloai="@loai"
                   asp-route-idthuonghieu="@thuonghieu">Tất cả</a>
            </label>
        </div>
        @foreach (var range in Model.PriceRanges)
        {
            var isChecked = (selectedRange != null && selectedRange == range.Id);
            <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
                <input type="checkbox"
                       class="custom-control-input"
                       id="price-range-@range.Id"
                @(isChecked ? "checked" : "") />
                <label for="price-range-@range.Id" class="custom-control-label">
                    <a asp-controller="Shop"
                       asp-action="Index"
                       asp-route-idloai="@loai"
                       asp-route-idthuonghieu="@thuonghieu"
                       asp-route-priceRange="@range.Id">@range.Name</a>
                </label>
            </div>
        }
    </form>
</div>